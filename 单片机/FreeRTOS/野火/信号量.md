# 概念

## 信号量

信号量是一个非负整数，所有获取它的任务都会将该整数减一，当该整数值为零时，所有试图获取它的任务都将处于阻塞状态。 通常一个信号量的计数值用于对应有效的资源数，表示剩下的可被占用的互斥资源数。其 值的含义分两种情况： 

-  0：表示没有积累下来的释放信号量操作，且有可能有在此信号量上阻塞的任务。

- 正值，表示有一个或多个释放信号量操作。

## 二值信号量

- 二值信号量无优先级继承，所以二值信号量更偏向于同步功能（任务与任务间的同步或任务和中断间同步）
- 将二值信号量看作是长度为 1 的队列，因此这个队列只能为空或满
- 不必关心消息是什么。只需要关心队列中是否有数据
- 用作同步时，信号量在创建后应被置为空

## 计数信号量

- 计数信号量则可以被认为长度大于 1 的队列
- 不必关心消息是什么。只需要关心队列中是否有数据
- 则当计数值为 0 的时候任务就无法访问该资源

## 互斥信号量

- 特殊的二值信号量，具有优先级继承机制，故适用于简单互锁，也就是保护临界资源（临界资源是指任何时刻只能被一个任务访问的资源
- 用作互斥时，信号量创建后可用信号量个数应该是满的
- 任务在需要使用临界资源时，先获取互斥信号量，使其变空， 这样其他任务需要使用临界资源时就会因为无法获取信号量而进入阻塞，从而保证了临界 资源的安全。

## 递归信号量

- 可以重复获取调用
- 对于已经获取递归互斥量的任务可以重复获取该递归互斥量，该任务拥有递归信号量的所有权。任务成功获取几次递 归互斥量，就要返还几次，在此之前递归互斥量都处于无效状态，其他任务无法获取，只 有持有递归信号量的任务才能获取与释放。
- 